(this["webpackJsonppizza-fe"]=this["webpackJsonppizza-fe"]||[]).push([[9],{145:function(e,t,a){"use strict";var n=a(3),r=a(4),l=a(0),s=a.n(l),o=a(1),i=a.n(o),c=a(6),d=a.n(c),m=a(2),u={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:m.q,responsiveTag:m.q,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},p=function(e){var t=e.className,a=e.cssModule,l=e.size,o=e.bordered,i=e.borderless,c=e.striped,u=e.dark,p=e.hover,g=e.responsive,v=e.tag,E=e.responsiveTag,b=e.innerRef,h=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),f=Object(m.m)(d()(t,"table",!!l&&"table-"+l,!!o&&"table-bordered",!!i&&"table-borderless",!!c&&"table-striped",!!u&&"table-dark",!!p&&"table-hover"),a),O=s.a.createElement(v,Object(n.a)({},h,{ref:b,className:f}));if(g){var N=Object(m.m)(!0===g?"table-responsive":"table-responsive-"+g,a);return s.a.createElement(E,{className:N},O)}return O};p.propTypes=u,p.defaultProps={tag:"table",responsiveTag:"div"},t.a=p},146:function(e,t,a){},147:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(0),l=a.n(r),s=a(15),o=a(14),i=a(44),c=(a(146),function(e){var t,a=e.amount,n=e.size,r=e.itemPrice,s=e.ordered_item_details,o=e.pizza,i=e.subs;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{className:"order-item"},l.a.createElement("td",{className:"type"},(null===s||void 0===s?void 0:s.type)||(o?"Pizza":"Subs")),l.a.createElement("td",null,(null===s||void 0===s?void 0:s.name)||(null===o||void 0===o?void 0:o.name)||(null===i||void 0===i?void 0:i.name)),l.a.createElement("td",{className:"size"},n),l.a.createElement("td",null,a),l.a.createElement("td",null,parseFloat(r).toFixed(2))),null===(t=(null===o||void 0===o?void 0:o.toppings)||(null===i||void 0===i?void 0:i.addOns))||void 0===t?void 0:t.map((function(e,t){var a=e.name,n=e.price;return l.a.createElement("tr",{className:"order-item addOns",key:t},l.a.createElement("td",{className:"type"}),l.a.createElement("td",null,a),l.a.createElement("td",{className:"size"},"-"),l.a.createElement("td",null,"-"),l.a.createElement("td",null,n.toFixed(2)||"-"))})))}),d=a(3),m=a(10),u=a(7),p=a(1),g=a.n(p),v=a(107),E=a(2),b=["toggleEvents","defaultOpen"],h={defaultOpen:g.a.bool,toggler:g.a.string.isRequired,toggleEvents:g.a.arrayOf(g.a.string)},f={toggleEvents:E.g},O=function(e){function t(t){var a;return(a=e.call(this,t)||this).togglers=null,a.removeEventListeners=null,a.toggle=a.toggle.bind(Object(m.a)(a)),a.state={isOpen:t.defaultOpen||!1},a}Object(u.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.togglers=Object(E.h)(this.props.toggler),this.togglers.length&&(this.removeEventListeners=Object(E.d)(this.togglers,this.toggle,this.props.toggleEvents))},a.componentWillUnmount=function(){this.togglers.length&&this.removeEventListeners&&this.removeEventListeners()},a.toggle=function(e){this.setState((function(e){return{isOpen:!e.isOpen}})),e.preventDefault()},a.render=function(){return l.a.createElement(v.a,Object(d.a)({isOpen:this.state.isOpen},Object(E.n)(this.props,b)))},t}(r.Component);O.propTypes=h,O.defaultProps=f;var N=O,y=a(145);a(147),t.default=function(){var e=Object(s.g)(),t=Object(r.useState)(null),a=Object(n.a)(t,2),d=a[0],m=a[1];return Object(r.useEffect)((function(){Promise.resolve(fetch("/api/pending_orders",{headers:{Authorization:"Token ".concat(window.localStorage.getItem("token"))}}).then((function(e){return e.json()}))).then((function(e){return m(e[e.length-1])})).catch((function(t){alert("There is a problem with the page. Please try again later."),e.push("/")}))}),[]),d?l.a.createElement("main",{className:"order-page"},d.cooked?l.a.createElement("span",null,"Your order is prepared. Please come to pick it up!"):l.a.createElement("div",{className:"loading-screen-container"},l.a.createElement("div",{className:"image-container"}),l.a.createElement("span",{className:"loading-text text-center"},"Your order is being prepared. Please wait for approximately 15 minutes.")),l.a.createElement("div",{id:"toggler",className:"text-right py-3 order-check"},"check out your last order"),l.a.createElement(N,{toggler:"#toggler"},l.a.createElement("div",{className:"order-table",id:"order-detail"},l.a.createElement(y.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"type"},"Item"),l.a.createElement("th",null,"Name"),l.a.createElement("th",{className:"size"},"Size"),l.a.createElement("th",null,"Quantity"),l.a.createElement("th",null,"Price"))),l.a.createElement("tbody",null,d.items_ordered.map((function(e,t){return l.a.createElement(c,Object.assign({key:t},e))}))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"type"}),l.a.createElement("td",null),l.a.createElement("td",{className:"size"}),l.a.createElement("td",{className:"text-right"},"TOTAL:"),l.a.createElement("td",{className:"text-center"},d.total_price))))))):null!==d?l.a.createElement("main",{className:"order-page"},l.a.createElement("div",null,"You don't seem to have a pending order. Go to ",l.a.createElement(o.b,{to:"/menu"},"our menu")," to begin ordering.")):l.a.createElement(i.a,null)}}}]);
//# sourceMappingURL=9.dc68e27e.chunk.js.map