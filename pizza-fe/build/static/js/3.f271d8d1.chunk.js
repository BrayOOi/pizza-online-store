(this["webpackJsonppizza-fe"]=this["webpackJsonppizza-fe"]||[]).push([[3],{118:function(e,a,t){"use strict";t.d(a,"c",(function(){return s})),t.d(a,"b",(function(){return l})),t.d(a,"a",(function(){return o}));var n=t(21),r=t(5),s=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==a?null:"object"==typeof a?Object.keys(a).reduce((function(t,s){return Object(r.a)({},t,Object(n.a)({},s,e(a[s])))}),{}):"boolean"==typeof a?!a:void 0},l=function(e,a,t){return Object(r.a)({},e,Object(n.a)({},a,t))},o=function(e){return function(a){return{name:e,value:a}}}},119:function(e,a,t){"use strict";var n=t(22),r=t(0),s=t.n(r),l=t(121),o=t(122),c=t(3),i=t(4),u=t(10),d=t(7),m=t(1),f=t.n(m),p=t(6),b=t.n(p),h=t(2),g={children:f.a.node,type:f.a.string,size:f.a.string,bsSize:f.a.string,valid:f.a.bool,invalid:f.a.bool,tag:h.q,innerRef:f.a.oneOfType([f.a.object,f.a.func,f.a.string]),plaintext:f.a.bool,addon:f.a.bool,className:f.a.string,cssModule:f.a.object},v=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(u.a)(t)),t.focus=t.focus.bind(Object(u.a)(t)),t}Object(d.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.focus=function(){this.ref&&this.ref.focus()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,n=e.type,r=e.bsSize,l=e.valid,o=e.invalid,u=e.tag,d=e.addon,m=e.plaintext,f=e.innerRef,p=Object(i.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),g=["radio","checkbox"].indexOf(n)>-1,v=new RegExp("\\D","g"),O=u||("select"===n||"textarea"===n?n:"input"),j="form-control";m?(j+="-plaintext",O=u||"input"):"file"===n?j+="-file":g&&(j=d?null:"form-check-input"),p.size&&v.test(p.size)&&(Object(h.r)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r=p.size,delete p.size);var E=Object(h.m)(b()(a,o&&"is-invalid",l&&"is-valid",!!r&&"form-control-"+r,j),t);return("input"===O||u&&"function"===typeof u)&&(p.type=n),p.children&&!m&&"select"!==n&&"string"===typeof O&&"select"!==O&&(Object(h.r)('Input with a type of "'+n+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete p.children),s.a.createElement(O,Object(c.a)({},p,{ref:f,className:E}))},a}(s.a.Component);v.propTypes=g,v.defaultProps={type:"text"};var O=v;a.a=function(e){var a=e.name,t=e.type,r=e.label,c=e.children,i=Object(n.a)(e,["name","type","label","children"]);return s.a.createElement(l.a,null,s.a.createElement(o.a,{for:a,style:{textTransform:"capitalize"}},r||a),s.a.createElement(O,Object.assign({type:t||"text",name:a,id:a,required:!0},i)),c)}},120:function(e,a,t){"use strict";var n=t(21),r=t(5),s=t(118);a.a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t,l){switch(l.type){case"SUBMIT_START":return Object(r.a)({},t,{validationStatus:a});case"FORM_CHANGE":return Object(r.a)({},t,Object(n.a)({},l.payload.name,l.payload.value));case"SUBMIT_RESULT":return Object(r.a)({},t,{validationStatus:Object(s.c)(l.payload)});case"SUBMIT_SUCCESS":return e;default:return t}}}},121:function(e,a,t){"use strict";var n=t(3),r=t(4),s=t(0),l=t.n(s),o=t(1),c=t.n(o),i=t(6),u=t.n(i),d=t(2),m={children:c.a.node,row:c.a.bool,check:c.a.bool,inline:c.a.bool,disabled:c.a.bool,tag:d.q,className:c.a.string,cssModule:c.a.object},f=function(e){var a=e.className,t=e.cssModule,s=e.row,o=e.disabled,c=e.check,i=e.inline,m=e.tag,f=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),p=Object(d.m)(u()(a,!!s&&"row",c?"form-check":"form-group",!(!c||!i)&&"form-check-inline",!(!c||!o)&&"disabled"),t);return"fieldset"===m&&(f.disabled=o),l.a.createElement(m,Object(n.a)({},f,{className:p}))};f.propTypes=m,f.defaultProps={tag:"div"},a.a=f},122:function(e,a,t){"use strict";var n=t(3),r=t(4),s=t(0),l=t.n(s),o=t(1),c=t.n(o),i=t(6),u=t.n(i),d=t(2),m=c.a.oneOfType([c.a.number,c.a.string]),f=c.a.oneOfType([c.a.string,c.a.number,c.a.shape({size:m,order:m,offset:m})]),p={children:c.a.node,hidden:c.a.bool,check:c.a.bool,size:c.a.string,for:c.a.string,tag:d.q,className:c.a.string,cssModule:c.a.object,xs:f,sm:f,md:f,lg:f,xl:f,widths:c.a.array},b={tag:"label",widths:["xs","sm","md","lg","xl"]},h=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},g=function(e){var a=e.className,t=e.cssModule,s=e.hidden,o=e.widths,c=e.tag,i=e.check,m=e.size,f=e.for,p=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),b=[];o.forEach((function(a,n){var r=e[a];if(delete p[a],r||""===r){var s,l=!n;if(Object(d.k)(r)){var o,c=l?"-":"-"+a+"-";s=h(l,a,r.size),b.push(Object(d.m)(u()(((o={})[s]=r.size||""===r.size,o["order"+c+r.order]=r.order||0===r.order,o["offset"+c+r.offset]=r.offset||0===r.offset,o))),t)}else s=h(l,a,r),b.push(s)}}));var g=Object(d.m)(u()(a,!!s&&"sr-only",!!i&&"form-check-label",!!m&&"col-form-label-"+m,b,!!b.length&&"col-form-label"),t);return l.a.createElement(c,Object(n.a)({htmlFor:f},p,{className:g}))};g.propTypes=p,g.defaultProps=b,a.a=g},123:function(e,a,t){"use strict";var n=t(3),r=t(4),s=t(10),l=t(7),o=t(0),c=t.n(o),i=t(1),u=t.n(i),d=t(6),m=t.n(d),f=t(2),p={children:u.a.node,inline:u.a.bool,tag:f.q,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},b=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(s.a)(t)),t.submit=t.submit.bind(Object(s.a)(t)),t}Object(l.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,s=e.inline,l=e.tag,o=e.innerRef,i=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(f.m)(m()(a,!!s&&"form-inline"),t);return c.a.createElement(l,Object(n.a)({},i,{ref:o,className:u}))},a}(o.Component);b.propTypes=p,b.defaultProps={tag:"form"},a.a=b},133:function(e,a,t){"use strict";var n=t(3),r=t(4),s=t(0),l=t.n(s),o=t(1),c=t.n(o),i=t(6),u=t.n(i),d=t(2),m=c.a.oneOfType([c.a.number,c.a.string]),f=c.a.oneOfType([c.a.bool,c.a.number,c.a.string,c.a.shape({size:c.a.oneOfType([c.a.bool,c.a.number,c.a.string]),order:m,offset:m})]),p={tag:d.q,xs:f,sm:f,md:f,lg:f,xl:f,className:c.a.string,cssModule:c.a.object,widths:c.a.array},b={tag:"div",widths:["xs","sm","md","lg","xl"]},h=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},g=function(e){var a=e.className,t=e.cssModule,s=e.widths,o=e.tag,c=Object(r.a)(e,["className","cssModule","widths","tag"]),i=[];s.forEach((function(a,n){var r=e[a];if(delete c[a],r||""===r){var s=!n;if(Object(d.k)(r)){var l,o=s?"-":"-"+a+"-",m=h(s,a,r.size);i.push(Object(d.m)(u()(((l={})[m]=r.size||""===r.size,l["order"+o+r.order]=r.order||0===r.order,l["offset"+o+r.offset]=r.offset||0===r.offset,l)),t))}else{var f=h(s,a,r);i.push(f)}}})),i.length||i.push("col");var m=Object(d.m)(u()(a,i),t);return l.a.createElement(o,Object(n.a)({},c,{className:m}))};g.propTypes=p,g.defaultProps=b,a.a=g},138:function(e,a,t){"use strict";var n=t(3),r=t(4),s=t(0),l=t.n(s),o=t(1),c=t.n(o),i=t(6),u=t.n(i),d=t(2),m={children:c.a.node,tag:d.q,className:c.a.string,cssModule:c.a.object,valid:c.a.bool,tooltip:c.a.bool},f={tag:"div",valid:void 0},p=function(e){var a=e.className,t=e.cssModule,s=e.valid,o=e.tooltip,c=e.tag,i=Object(r.a)(e,["className","cssModule","valid","tooltip","tag"]),m=o?"tooltip":"feedback",f=Object(d.m)(u()(a,s?"valid-"+m:"invalid-"+m),t);return l.a.createElement(c,Object(n.a)({},i,{className:f}))};p.propTypes=m,p.defaultProps=f,a.a=p},139:function(e,a,t){},140:function(e,a,t){},141:function(e,a,t){},154:function(e,a,t){"use strict";t.r(a);var n=t(18),r=t.n(n),s=t(11),l=t(0),o=t.n(l),c=t(15),i=t(26),u=t(14),d=t(119),m=t(118),f=t(43),p=Object(f.a)("/api/register"),b=Object(f.a)("/api/register/validate"),h=t(123),g=t(138),v=t(57),O=(t(139),function(e){var a=e.mainPage,t=e.validationStatus,n=e.formDispatch,s=e.setDetailEntry,l=Object(c.g)(),i=Object(c.h)().path,f=a.username,p=a.email,O=a.password,j=a.passwordConfirm,E=t.validEmail,y=t.validUsername,w=t.passwordLength,N=t.passwordMatch,x=function(e,a){return Object(m.a)("mainPage")(Object(m.b)(e,a.target.name,a.target.value))},M=function(e){n({type:"FORM_CHANGE",payload:x(a,e)})};return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{onSubmit:function(e){var a,t,o,c;return r.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return e.preventDefault(),n({type:"SUBMIT_START"}),u.prev=2,u.next=5,r.a.awrap(b({username:f,email:p}));case 5:return a=u.sent,t=a.rejectUsername,o=a.rejectEmail,u.next=10,r.a.awrap({validEmail:!o,validUsername:!t,passwordLength:O.length>5,passwordMatch:O===j});case 10:return c=u.sent,u.next=13,r.a.awrap(n({type:"SUBMIT_RESULT",payload:c}));case 13:return u.next=15,r.a.awrap(void(Object.values(c).every((function(e){return e}))&&(s(!0),l.push("".concat(i,"/details")))));case 15:u.next=20;break;case 17:u.prev=17,u.t0=u.catch(2),console.log(u.t0);case 20:case"end":return u.stop()}}),null,null,[[2,17]])},className:"register-main"},o.a.createElement(d.a,{name:"username",placeholder:"John",invalid:y,value:f,onChange:M},o.a.createElement(g.a,null,"Username taken. Please try another one.")),o.a.createElement(d.a,{name:"email",type:"email",placeholder:"John@hotmail.com",invalid:E,value:p,onChange:M},o.a.createElement(g.a,null,"Email registered. ",o.a.createElement(u.b,{to:"/login"},"Login here"))),o.a.createElement(d.a,{name:"password",type:"password",invalid:w,value:O,onChange:M},o.a.createElement(g.a,null,"Password must be more than six characters.")),o.a.createElement(d.a,{name:"passwordConfirm",label:"Confirm Password",type:"password",invalid:N,value:j,onChange:M},o.a.createElement(g.a,null,"Passwords do not match.")),o.a.createElement("div",{className:"register-to"},o.a.createElement(u.b,{to:"/signin",className:"register-to-signin"},"Existing user? Login here"),o.a.createElement(v.a,{className:"register-to-next"},"Next"))))}),j=t(3),E=t(4),y=t(1),w=t.n(y),N=t(6),x=t.n(N),M=t(2),S=w.a.oneOfType([w.a.number,w.a.string]),T={tag:M.q,noGutters:w.a.bool,className:w.a.string,cssModule:w.a.object,form:w.a.bool,xs:S,sm:S,md:S,lg:S,xl:S},R={tag:"div",widths:["xs","sm","md","lg","xl"]},z=function(e){var a=e.className,t=e.cssModule,n=e.noGutters,r=e.tag,s=e.form,l=e.widths,c=Object(E.a)(e,["className","cssModule","noGutters","tag","form","widths"]),i=[];l.forEach((function(a,t){var n=e[a];if(delete c[a],n){var r=!t;i.push(r?"row-cols-"+n:"row-cols-"+a+"-"+n)}}));var u=Object(M.m)(x()(a,n?"no-gutters":null,s?"form-row":"row",i),t);return o.a.createElement(r,Object(j.a)({},c,{className:u}))};z.propTypes=T,z.defaultProps=R;var C=z,_=t(133),k=(t(140),function(e){var a=e.detailPage,t=e.formDispatch,n=e.handleSubmit,r=function(e){return function(a,t){return Object(m.a)("detailPage")(function(e){return function(a,t){return Object(m.b)(e,a,Object(m.b)(e[a],t.target.name,t.target.value))}}(e)(a,t))}}(a),s=function(e){return t({type:"FORM_CHANGE",payload:r("fullName",e)})},l=function(e){return t({type:"FORM_CHANGE",payload:r("fullAddress",e)})},c=a.fullName,i=c.first_name,u=c.last_name,f=a.fullAddress,p=f.address,b=f.city,g=f.state,O=f.zip_code;return o.a.createElement(h.a,{onSubmit:n,className:"register-details"},o.a.createElement(C,{form:!0},o.a.createElement(_.a,{md:6},o.a.createElement(d.a,{name:"first_name",label:"First name",value:i,onChange:s})),o.a.createElement(_.a,{md:6},o.a.createElement(d.a,{name:"last_name",label:"Last name",value:u,onChange:s}))),o.a.createElement(d.a,{name:"address",placeholder:"74 Winthrop Street",value:p,onChange:l}),o.a.createElement(C,{form:!0},o.a.createElement(_.a,{md:6},o.a.createElement(d.a,{name:"city",placeholder:"Cambridge",value:b,onChange:l})),o.a.createElement(_.a,{md:4},o.a.createElement(d.a,{name:"state",placeholder:"Massachusetts",value:g,onChange:l})),o.a.createElement(_.a,{md:2},o.a.createElement(d.a,{name:"zip_code",label:"Zip Code",placeholder:"02128",value:O,onChange:l}))),o.a.createElement(v.a,null,"Register"))}),P=t(120),U={validEmail:null,validUsername:null,passwordLength:null,passwordMatch:null},A={mainPage:{username:"",email:"",password:"",passwordConfirm:""},detailPage:{fullName:{first_name:"",last_name:""},fullAddress:{address:"",city:"",state:"",zip_code:""}},validationStatus:U},D=Object(P.a)(A,U),I=t(23);t(141),a.default=function(){var e=Object(c.h)().path,a=Object(l.useContext)(I.a).userDispatch,t=Object(l.useReducer)(D,A),n=Object(s.a)(t,2),u=n[0],d=n[1],m=Object(l.useState)(!1),f=Object(s.a)(m,2),b=f[0],h=f[1];return o.a.createElement("main",{className:"register-page"},o.a.createElement(c.b,{exact:!0,path:e},o.a.createElement(O,Object.assign({},u,{setDetailEntry:h,formDispatch:d}))),o.a.createElement(i.a,{exact:!0,path:"".concat(e,"/details"),condition:b,deniedPath:"/register"},o.a.createElement(k,Object.assign({},u,{handleSubmit:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),d({type:"SUBMIT_START"}),n.prev=2,n.next=5,r.a.awrap(p(u));case 5:return t=n.sent,n.next=8,r.a.awrap(d({type:"SUBMIT_RESULT",payload:t}));case 8:return n.next=10,r.a.awrap(t&&(d({type:"SUBMIT_SUCCESS"})||a({type:"REGISTER_USER",payload:t})));case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),console.log(n.t0);case 15:case"end":return n.stop()}}),null,null,[[2,12]])},formDispatch:d}))))}}}]);
//# sourceMappingURL=3.f271d8d1.chunk.js.map