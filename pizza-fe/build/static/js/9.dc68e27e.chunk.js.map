{"version":3,"sources":["../node_modules/reactstrap/es/Table.js","components/order-item/order-item.component.jsx","../node_modules/reactstrap/es/UncontrolledCollapse.js","pages/order/order.component.jsx"],"names":["propTypes","className","PropTypes","string","cssModule","object","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","tag","tagPropType","responsiveTag","innerRef","func","Table","props","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","React","createElement","_extends","ref","responsiveClassName","defaultProps","OrderItem","amount","itemPrice","ordered_item_details","pizza","subs","type","name","parseFloat","toFixed","toppings","addOns","map","index","price","key","omitKeys","defaultOpen","toggler","isRequired","toggleEvents","arrayOf","defaultToggleEvents","UncontrolledCollapse","_Component","_this","call","this","togglers","removeEventListeners","toggle","bind","_assertThisInitialized","state","isOpen","_inheritsLoose","_proto","prototype","componentDidMount","findDOMElements","length","addMultipleEventListeners","componentWillUnmount","e","setState","_ref","preventDefault","render","Collapse","omit","Component","OrderPage","history","useHistory","useState","pendingOrders","setPendingOrders","useEffect","Promise","resolve","fetch","headers","window","localStorage","getItem","then","response","json","catch","error","alert","push","cooked","id","items_ordered","item","total_price","to"],"mappings":"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","file":"static/js/9.dc68e27e.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import React from \"react\";\n\nimport \"./order-item.styles.scss\";\n\n\nconst OrderItem = ({ amount, size, itemPrice, ordered_item_details, pizza, subs }) => (\n  <>\n    <tr className=\"order-item\">\n      <td className=\"type\">{ (ordered_item_details?.type) || (pizza ? \"Pizza\" : \"Subs\") }</td>\n      <td>{ ordered_item_details?.name || pizza?.name || subs?.name }</td>\n      <td className=\"size\">{ size }</td>\n      <td>{ amount }</td>\n      <td>{ (parseFloat(itemPrice)).toFixed(2) }</td>\n    </tr>\n    {\n      (pizza?.toppings || subs?.addOns)?.map(({ name, price }, index) => \n        <tr className=\"order-item addOns\" key={index}>\n          <td className=\"type\"></td>\n          <td>{ name }</td>\n          <td className=\"size\">-</td>\n          <td>-</td>\n          <td>{ price.toFixed(2) || \"-\" }</td>\n        </tr>)\n    }\n  </>\n);\n\nexport default OrderItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Collapse from './Collapse';\nimport { omit, findDOMElements, defaultToggleEvents, addMultipleEventListeners } from './utils';\nvar omitKeys = ['toggleEvents', 'defaultOpen'];\nvar propTypes = {\n  defaultOpen: PropTypes.bool,\n  toggler: PropTypes.string.isRequired,\n  toggleEvents: PropTypes.arrayOf(PropTypes.string)\n};\nvar defaultProps = {\n  toggleEvents: defaultToggleEvents\n};\n\nvar UncontrolledCollapse =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(UncontrolledCollapse, _Component);\n\n  function UncontrolledCollapse(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.togglers = null;\n    _this.removeEventListeners = null;\n    _this.toggle = _this.toggle.bind(_assertThisInitialized(_this));\n    _this.state = {\n      isOpen: props.defaultOpen || false\n    };\n    return _this;\n  }\n\n  var _proto = UncontrolledCollapse.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.togglers = findDOMElements(this.props.toggler);\n\n    if (this.togglers.length) {\n      this.removeEventListeners = addMultipleEventListeners(this.togglers, this.toggle, this.props.toggleEvents);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.togglers.length && this.removeEventListeners) {\n      this.removeEventListeners();\n    }\n  };\n\n  _proto.toggle = function toggle(e) {\n    this.setState(function (_ref) {\n      var isOpen = _ref.isOpen;\n      return {\n        isOpen: !isOpen\n      };\n    });\n    e.preventDefault();\n  };\n\n  _proto.render = function render() {\n    return React.createElement(Collapse, _extends({\n      isOpen: this.state.isOpen\n    }, omit(this.props, omitKeys)));\n  };\n\n  return UncontrolledCollapse;\n}(Component);\n\nUncontrolledCollapse.propTypes = propTypes;\nUncontrolledCollapse.defaultProps = defaultProps;\nexport default UncontrolledCollapse;","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport Loader from \"../../components/loader/loader.component\";\nimport OrderItem from \"../../components/order-item/order-item.component\";\n\nimport { UncontrolledCollapse, Table } from 'reactstrap';\nimport \"./order.styles.scss\";\n\n\nconst OrderPage = () => {\n  const history = useHistory();\n  const [ pendingOrders, setPendingOrders ] = useState(null);\n  const fetchOrders = () => fetch(\"/api/pending_orders\", {\n    headers: {\n      'Authorization': `Token ${window.localStorage.getItem(\"token\")}`\n    }\n  }).then(response => response.json());\n\n  useEffect(() => {\n    Promise.resolve(fetchOrders())\n    .then(response => setPendingOrders(response[response.length - 1]))\n    .catch(error => {\n      alert(\"There is a problem with the page. Please try again later.\");\n      history.push(\"/\");\n    });\n  }, []);\n\n  if (pendingOrders) {\n    return (\n      <main className=\"order-page\">\n        {\n          pendingOrders.cooked ? (\n            <span>Your order is prepared. Please come to pick it up!</span>\n          ) : (\n            <div className=\"loading-screen-container\">\n              <div className=\"image-container\" />\n              <span className=\"loading-text text-center\">Your order is being prepared. Please wait for approximately 15 minutes.</span>\n            </div>\n          )\n        }\n        <div id=\"toggler\" className=\"text-right py-3 order-check\">check out your last order</div>\n        <UncontrolledCollapse toggler=\"#toggler\">\n          <div className=\"order-table\" id=\"order-detail\">\n            <Table hover>\n              <thead>\n                <tr>\n                  <th className=\"type\">Item</th>\n                  <th>Name</th>\n                  <th className=\"size\">Size</th>\n                  <th>Quantity</th>\n                  <th>Price</th>\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  pendingOrders.items_ordered.map((item, index) => (\n                    <OrderItem key={index} {...item} />\n                  ))\n                }\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td className=\"type\" />\n                  <td />\n                  <td className=\"size\" />\n                  <td className=\"text-right\">TOTAL:</td>\n                  <td className=\"text-center\">{ pendingOrders.total_price }</td>\n                </tr>\n              </tfoot>\n            </Table>\n          </div>\n        </UncontrolledCollapse>\n      </main>\n    );\n  } else if (pendingOrders !== null) {\n    return (\n      <main className=\"order-page\">\n        <div>\n          You don't seem to have a pending order. Go to <Link to=\"/menu\">our menu</Link> to begin ordering.\n        </div>\n      </main>\n    )\n  } else return (\n    <Loader />\n  );\n};\n\nexport default OrderPage;"],"sourceRoot":""}